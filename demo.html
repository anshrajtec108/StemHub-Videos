<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Stream Viewer</title>
 <script type="text/javascript" src="./NodePlayer.min.js"></script>
</head>
<body>

<p>video</p>
<video id="videoElement" controls></video>

<script>
    // Check if flv.js is supported by the browser
    if (flvjs.isSupported()) {
      console.log("yes supported ")
        // Function to initialize the video player
        function initializePlayer() {
            var videoElement = document.getElementById('videoElement');
            var flvPlayer = flvjs.createPlayer({
                type: 'flv',
                url: 'http://localhost:8000/live/mySteam.flv'
            });
            flvPlayer.attachMediaElement(videoElement);
            flvPlayer.load();
            flvPlayer.play();
        }

        // Add an event listener to the video element for the 'play' event
        document.getElementById('videoElement').addEventListener('play', function () {
            // Once the video element is played by the user, initialize the video player
            initializePlayer();
            // Remove the 'play' event listener to prevent unnecessary calls to initializePlayer
            this.removeEventListener('play', arguments.callee);
        });
    }
</script>
</body>
</html>
